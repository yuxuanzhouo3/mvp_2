# ===========================================
# 区域配置 (Region Configuration)
# ===========================================
# 设置部署区域：
# - CN: 中国版（使用 CloudBase）
# - INTL: 国际版（使用 Supabase）默认值
NEXT_PUBLIC_DEPLOYMENT_REGION=INTL

# ===========================================
# 国际版配置 (International - Supabase)
# ===========================================
# 当 NEXT_PUBLIC_DEPLOYMENT_REGION=INTL 时需要配置
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
# Android 原生 Google 登录（Web OAuth Client ID，与 Supabase Google Provider 保持一致）
NEXT_PUBLIC_GOOGLE_WEB_CLIENT_ID=your_google_web_oauth_client_id
# Optional: set true/1 to enable native Google sign-in in app container. Default is disabled (Web OAuth only).
NEXT_PUBLIC_ENABLE_NATIVE_GOOGLE_SIGN_IN=false

# ===========================================
# 中国版配置 (China - CloudBase)
# ===========================================
# 当 NEXT_PUBLIC_DEPLOYMENT_REGION=CN 时需要配置
NEXT_PUBLIC_WECHAT_CLOUDBASE_ID=your_cloudbase_env_id
CLOUDBASE_SECRET_ID=your_cloudbase_secret_id
CLOUDBASE_SECRET_KEY=your_cloudbase_secret_key

# ===========================================
# 微信开放平台配置 (WeChat OAuth Login)
# ===========================================
# 仅在 NEXT_PUBLIC_DEPLOYMENT_REGION=CN 时需要配置
# 用于微信扫码登录功能
# 获取方式: https://open.weixin.qq.com/
NEXT_PUBLIC_WECHAT_APP_ID=your_wechat_app_id
WECHAT_APP_ID=your_wechat_app_id
WECHAT_APP_SECRET=your_wechat_app_secret

# ===========================================
# 微信小程序配置 (WeChat Mini Program)
# ===========================================
# 用于微信小程序 WebView 内登录
# 获取方式: https://mp.weixin.qq.com/
# 注意：小程序的 AppID 和 Secret 与开放平台不同
WX_MINI_APPID=your_wechat_mini_program_appid
WX_MINI_SECRET=your_wechat_mini_program_secret

# ===========================================
# CN Email Verification (Tencent SMTP)
# ===========================================
# Used for registration and password reset verification codes in CN deployment
AUTH_EMAIL_SMTP_HOST=smtp.exmail.qq.com
AUTH_EMAIL_SMTP_PORT=465
AUTH_EMAIL_SMTP_USER=your_smtp_user
AUTH_EMAIL_SMTP_PASS=your_smtp_pass
AUTH_EMAIL_FROM="Random Life <noreply@example.com>"
# Optional: code expiry in minutes and resend cooldown in seconds
AUTH_EMAIL_CODE_EXPIRE_MINUTES=10
AUTH_EMAIL_CODE_RESEND_SECONDS=60

# ===========================================
# 通用配置 (Common)
# ===========================================
# JWT 密钥（用于中国版 Token 签名）
JWT_SECRET=your_jwt_secret_key_here

# Admin 后台（/admin）
# 为了在任意部署环境下都能读取 CN+INTL 两套数据，生产环境需要同时配置 CloudBase 与 Supabase 的服务端凭据
ADMIN_USERNAME=your_admin_username_required
ADMIN_PASSWORD=your_admin_password_required_min_8_chars
ADMIN_SESSION_SECRET=your_admin_session_secret_required_min_16_chars
ADMIN_SESSION_DAYS=7

# 跨环境后台聚合配置（用于在 CN/INTL 任一部署中查看双方数据）
# 示例：
# CN_APP_ORIGIN=https://mornxyz.mornscience.top
# INTL_APP_ORIGIN=https://www.mornhub.xyz
# ADMIN_PROXY_SECRET 需在 CN/INTL 两端保持一致
CN_APP_ORIGIN=
INTL_APP_ORIGIN=
ADMIN_PROXY_SECRET=your_admin_proxy_secret

# NextAuth 配置
NEXTAUTH_SECRET=your_nextauth_secret
NEXTAUTH_URL=http://localhost:3000

# 站点 URL 配置（生产环境必需）
NEXT_PUBLIC_APP_URL=https://random-life-seven.vercel.app

# ===========================================
# 支付配置 (Payment)
# ===========================================
# Stripe (国际版)
STRIPE_SECRET_KEY=your_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
# 生产环境
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret
# 沙盒测试环境
STRIPE_WEBHOOK_SECRET_TEST=your_stripe_test_webhook_secret

# PayPal (国际版)
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_WEBHOOK_ID=your_paypal_webhook_id

# =============================================
# CN 支付配置 - 支付宝
# =============================================
# 支付宝应用 AppID
ALIPAY_APP_ID=your_alipay_app_id

# 应用私钥（RSA2，注意：换行符使用 \n 转义）
ALIPAY_PRIVATE_KEY=your_alipay_private_key

# 支付宝公钥
ALIPAY_PUBLIC_KEY=your_alipay_public_key

# 支付宝网关地址（可选，现在为沙箱环境，生产时需要转换为正式环境）
# 正式环境: https://openapi.alipay.com/gateway.do
# 沙箱环境: https://openapi-sandbox.dl.alipaydev.com/gateway.do
ALIPAY_GATEWAY_URL=https://openapi-sandbox.dl.alipaydev.com/gateway.do


# =============================================
# CN 支付配置 - 微信支付
# =============================================
# 微信公众号/小程序 AppID
WECHAT_PAY_APPID=your_wechat_pay_appid

# 微信支付商户号
WECHAT_PAY_MCHID=your_wechat_pay_mchid

# API 证书序列号
WECHAT_PAY_SERIAL_NO=your_wechat_pay_serial_no

# 商户私钥（注意：换行符使用 \n 转义）
WECHAT_PAY_PRIVATE_KEY=your_wechat_pay_private_key

# APIv3 密钥（32位）
WECHAT_PAY_API_V3_KEY=your_wechat_pay_api_v3_key

# =============================================
# 支付测试模式
# =============================================
# 设置为 true 时，微信支付金额将被固定为 0.01 元
# 用于开发测试，生产环境请勿开启
PAYMENT_TEST_MODE=false

# ===========================================
# AI 推荐配置 (AI Recommendation)
# ===========================================
# INTL 环境：OpenAI + Mistral（至少配置一个）
OPENAI_API_KEY=your_openai_api_key
# OPENAI_MODEL=gpt-4o-mini
MISTRAL_API_KEY=your_mistral_api_key
# MISTRAL_MODEL=mistral-large-latest

# CN 环境：智谱 API - GLM-4-Flash 模型
# 获取 API Key: https://open.bigmodel.cn
ZHIPU_API_KEY=your_zhipu_api_key
# ZHIPU_MODEL=glm-4.5-flash

# CN 反向地理编码（推荐）
# 用于 AI 助手 /api/assistant/geocode 在中国网络环境下稳定解析用户位置
# 获取 Key: https://lbs.amap.com/
AMAP_WEB_SERVICE_KEY=your_amap_web_service_key

# Supabase Service Role Key (用于服务端数据库操作)
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# AI 助手附近门店数据库（可选）
# 数据源表：assistant_nearby_stores（Supabase / CloudBase）
# 当用户在 /assistant 询问“附近/周边”时，后端会优先从该表检索真实门店，再由 AI 做排序推荐
# 提示：先执行迁移 supabase/migrations/013_assistant_nearby_stores.sql，或在 CloudBase 创建同名集合

# ===========================================
# 应用下载配置 (App Downloads)
# ===========================================
# CN环境: 使用CloudBase fileID（格式: cloud://bucket-name/path/to/file）
# 安卓APP、iOS、Windows、macOS、Linux等安装包
CN_ANDROID_FILE_ID=cloud://your-bucket/downloads/RandomLife-Android.apk
CN_IOS_FILE_ID=cloud://your-bucket/downloads/RandomLife-iOS.ipa
CN_WINDOWS_FILE_ID=cloud://your-bucket/downloads/windows/辰汇个性推荐平台.msi
CN_MACOS_INTEL_FILE_ID=cloud://your-bucket/downloads/macOS/xxxx.dmg
CN_MACOS_APPLE_SILICON_FILE_ID=cloud://your-bucket/downloads/RandomLife-macOS-AppleSilicon.dmg
CN_LINUX_FILE_ID=cloud://your-bucket/downloads/RandomLife-Linux.AppImage

# INTL环境: 使用外部URL或Supabase Storage路径
# 外部URL示例: https://github.com/username/repo/releases/latest/download/app.exe
# Supabase Storage示例: supabase://downloads/Windows/Recommend.msi
# 注意：这些环境变量需要NEXT_PUBLIC_前缀才能在客户端访问
NEXT_PUBLIC_INTL_ANDROID_URL=your_secret_url
NEXT_PUBLIC_INTL_IOS_URL=your_secret_url
NEXT_PUBLIC_INTL_WINDOWS_URL=your_secret_url
NEXT_PUBLIC_INTL_MACOS_INTEL_URL=your_secret_url
NEXT_PUBLIC_INTL_MACOS_APPLE_SILICON_URL=your_secret_url
NEXT_PUBLIC_INTL_LINUX_URL=your_secret_url

# ===========================================
# 使用说明
# ===========================================
# 1. 复制此文件为 .env.local
# 2. 根据部署区域填写对应的配置
# 3. 切换区域只需修改 NEXT_PUBLIC_DEPLOYMENT_REGION
#
# 示例 - 国际版:
#   NEXT_PUBLIC_DEPLOYMENT_REGION=INTL
#   NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
#   NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx...
#
# 示例 - 中国版:
#   NEXT_PUBLIC_DEPLOYMENT_REGION=CN
#   NEXT_PUBLIC_WECHAT_CLOUDBASE_ID=your-env-id
#   CLOUDBASE_SECRET_ID=AKIDxxx
#   CLOUDBASE_SECRET_KEY=xxx
